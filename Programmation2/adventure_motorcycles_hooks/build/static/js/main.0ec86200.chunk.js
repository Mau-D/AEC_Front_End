(this.webpackJsonpadventure_motorcycles_hooks=this.webpackJsonpadventure_motorcycles_hooks||[]).push([[0],{30:function(e,t,a){e.exports=a(49)},35:function(e,t,a){},44:function(e,t,a){e.exports=a.p+"static/media/404motorcycle.3e78af66.png"},47:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),c=(a(35),a(52)),u=a(53),s=a(28),i=a(8),m=a.n(i),p=a(13),d=a(16),h=a(56),E=a(12),f=a(27),v=a.n(f);var b=function(e){return r.a.createElement(s.a,{sm:3,className:"mt-5"},r.a.createElement(v.a,{left:!0,cascade:!0},r.a.createElement(h.a,{style:{width:"28rem"}},r.a.createElement(h.a.Img,{variant:"top",src:e.photo}),r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Title,null,r.a.createElement(E.b,{to:"Motorcycle/"+e.model+"?id="+e.id},r.a.createElement("h2",null,e.model))),r.a.createElement(h.a.Subtitle,{className:"mb-2 text-muted"},e.factory),r.a.createElement(h.a.Text,null,e.description),r.a.createElement(h.a.Text,null,e.prix)))))},y=a(18);var x=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],o=t[1];function l(){return(l=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3001/adventuremotorcycles");case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,o(a),t.ok){e.next=10;break}throw Error(t.statusText);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){l.apply(this,arguments)}()}),a),Object(y.a)().reveal(".headline"),Object(y.a)().reveal(".tagline",{delay:500}),Object(y.a)({duration:5e3}),Object(y.a)().reveal(".punchline",{delay:2e3}),r.a.createElement(c.a,{fluid:!0},r.a.createElement("h1",{className:"headline"},"Affichage de la liste des motos"),r.a.createElement("p",{class:"tagline"},"The perfect widgets.",r.a.createElement("span",{className:"punchline"},"Forever.")),r.a.createElement("h1",null,"Affichage de la liste des motos"),r.a.createElement(u.a,null,a.map((function(e,t){return r.a.createElement(b,{photo:e.photo,model:e.modele,factory:e.fabricant,key:e.modele+e.id,description:e.specifications[0].description,prix:e.specifications[1].prix,id:e.id})}))))};var g=function(){return r.a.createElement(c.a,{fluid:!0},r.a.createElement(u.a,{className:"text-center"},r.a.createElement(s.a,null,r.a.createElement(x,null))))},j=a(54);var w=function(){return r.a.createElement(u.a,{className:"text-center"},r.a.createElement(s.a,null,r.a.createElement("h1",null,"Page introuvable"),r.a.createElement(j.a,{className:"d-inline-block",src:a(44),alt:"Page introuvable erreur 404"}),r.a.createElement("p",null,"Nous serons bient\xf4t l\xe0...revenez un peu plus tard")))},k=a(55),I=a(57),O=a(17);function M(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),o=a[0],l=a[1];function i(){return(i=Object(p.a)(m.a.mark((function t(a,n,r,o,l){var c,u,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h();case 3:return c=t.sent,t.next=6,fetch("http://localhost:3001/adventuremotorcycles/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c,modele:n,fabricant:r,photo:a,specifications:[{description:o},{prix:l}]})});case 6:if(!(u=t.sent).ok){t.next=14;break}return t.next=10,u.json();case 10:return s=t.sent,e.history.push("/"),O.b.success("Ajout de la moto, mod\xe8le:  "+n),t.abrupt("return",s);case 14:throw new Error("Request failed!");case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}function h(){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(m.a.mark((function e(){var t,a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=0,e.next=4,fetch("http://localhost:3001/adventuremotorcycles/");case 4:return a=e.sent,e.next=7,a.json();case 7:for(n=e.sent,r=0;r<n.length;r++)n[r].id>t&&(t=n[r].id);if(a.ok){e.next=11;break}throw Error(a.statusText);case 11:return e.abrupt("return",t+1);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return r.a.createElement(c.a,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement("h1",null,"Formulaire d'enregistrement d'une nouvelle moto"),r.a.createElement(k.a,null,r.a.createElement(k.a.Group,{controlId:"urlPhoto"},r.a.createElement(k.a.Label,null,"Entrer l'url de l'image"),r.a.createElement(k.a.Control,{onBlur:function(){return l(document.getElementById("urlPhoto").value)},type:"text"}),""!==o&&r.a.createElement(j.a,{src:o,rounded:!0,width:"125"})),r.a.createElement(k.a.Group,{controlId:"nomModele"},r.a.createElement(k.a.Label,null,"Entrer le mod\xe8le de la moto"),r.a.createElement(k.a.Control,{type:"text",placeholder:"exemple: 790 ADVENTURE R"}),r.a.createElement(k.a.Text,{className:"text-muted"},"ajouter une validation")),r.a.createElement(k.a.Group,{controlId:"nomFabricant"},r.a.createElement(k.a.Label,null,"Entrer le nom du fabricant"),r.a.createElement(k.a.Control,{type:"text",placeholder:"exemple: KTM"})),r.a.createElement(k.a.Text,{className:"text-muted"},"Faire un menu d\xe9roulant"),r.a.createElement(k.a.Group,{controlId:"texteDescription"},r.a.createElement(k.a.Label,null,"Description de la moto"),r.a.createElement(k.a.Control,{type:"text"})),r.a.createElement(k.a.Group,{controlId:"valeurPrix"},r.a.createElement(k.a.Label,null,"Entrer le prix co\xfbtant"),r.a.createElement(k.a.Control,{type:"text"})),r.a.createElement(I.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault(),function(e,t,a,n,r){i.apply(this,arguments)}(document.getElementById("urlPhoto").value,document.getElementById("nomModele").value,document.getElementById("nomFabricant").value,document.getElementById("texteDescription").value,document.getElementById("valeurPrix").value)}},"Ajouter une moto")))))}M.defaultProps={history:"/"};var N=M;function B(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{history:e.history}))}B.defaultProps={history:"/"};var C=B;var P=function(){return r.a.createElement(u.a,null,r.a.createElement(s.a,{className:"text-right"},r.a.createElement(E.b,{to:"/ajouterMoto",className:"btn btn-primary"},"Ajouter une moto")))};var T=function(){return r.a.createElement(u.a,null,r.a.createElement(s.a,{className:"text-right"},r.a.createElement(E.b,{to:"/",className:"btn btn-primary"},"Retour \xe0 l'accueil")))};var S=function(e){var t=Object(n.useState)({modele:"",fabricant:"",photo:"",specifications:["",""]}),a=Object(d.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)(e.location.search.substring(4,e.location.search.length)),h=Object(d.a)(i,2),E=h[0];function f(){return(f=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,console.log(E);case 3:return e.next=5,fetch("http://localhost:3001/adventuremotorcycles/"+E);case 5:return t=e.sent,e.next=8,t.json();case 8:if(a=e.sent,l(a),console.log(this.state.donneesRecues),t.ok){e.next=13;break}throw Error(t.statusText);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})))).apply(this,arguments)}function v(){return(v=Object(p.a)(m.a.mark((function t(a,n,r,o,l){var c,u;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:3001/adventuremotorcycles/"+E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:E,modele:n,fabricant:r,photo:a,specifications:[{description:o},{prix:l}]})});case 3:if(!(c=t.sent).ok){t.next=11;break}return t.next=7,c.json();case 7:return u=t.sent,e.history.push("/"),O.b.warning("Modification de la moto, mod\xe8le:  "+n),t.abrupt("return",u);case 11:throw new Error("Request failed!");case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function b(){return(b=Object(p.a)(m.a.mark((function t(){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:3001/adventuremotorcycles/"+E,{method:"delete"});case 3:if(!(a=t.sent).ok){t.next=12;break}return t.next=7,a.json();case 7:return n=t.sent,console.log("SUPPRESSION!"),e.history.push("/"),O.b.error("Supression de la moto "),t.abrupt("return",n);case 12:throw new Error("Request failed!");case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}return h[1],Object(n.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),console.log(o.photo),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Group,{controlId:"modeleMoto"},r.a.createElement(k.a.Label,null,"Mod\xe8le de la moto"),r.a.createElement(k.a.Control,{type:"text",defaultValue:o.modele})),r.a.createElement(k.a.Group,{controlId:"fabricantMoto"},r.a.createElement(k.a.Label,null,"Fabricant de la moto"),r.a.createElement(k.a.Control,{type:"text",defaultValue:o.fabricant})),r.a.createElement(k.a.Group,{controlId:"photoMoto"},r.a.createElement(k.a.Label,null,"URL d'une photo de la moto"),r.a.createElement(k.a.Control,{type:"text",placeholder:"Entrer une URL valide",onBlur:function(){return l.photo(document.getElementById("photoMoto").value)},defaultValue:o.photo}),""!==o.photo&&r.a.createElement(j.a,{src:o.photo,rounded:!0,width:"125"})),r.a.createElement(k.a.Group,{controlId:"descriptionMoto"},r.a.createElement(k.a.Label,null,"Courte description de la moto"),r.a.createElement(k.a.Control,{type:"text",defaultValue:o.specifications[0].description})),r.a.createElement(k.a.Group,{controlId:"prixMoto"},r.a.createElement(k.a.Label,null,"Prix de la moto"),r.a.createElement(k.a.Control,{type:"text",defaultValue:o.specifications[1].prix})),r.a.createElement(I.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault(),function(e,t,a,n,r){v.apply(this,arguments)}(document.getElementById("photoMoto").value,document.getElementById("modeleMoto").value,document.getElementById("fabricantMoto").value,document.getElementById("descriptionMoto").value,document.getElementById("prixMoto").value)}},"Enregistrer"),r.a.createElement("p",{className:"btn btn-danger ml-3 mt-3",onClick:function(){return b.apply(this,arguments)}},"Supprimer la Moto"))))))},L=a(5);a(46),a(47);var G=function(){var e=Object(L.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{autoClose:3e3,hideProgressBar:!0}),"/ajouterMoto"!==e.pathname&&!e.pathname.startsWith("/Motorcycle")&&r.a.createElement(P,null),r.a.createElement(L.c,null,r.a.createElement(L.a,{path:"/",exact:!0,component:g}),r.a.createElement(L.a,{path:"/ajouterMoto",component:C}),r.a.createElement(L.a,{path:"/Motorcycle/:modele",component:S}),r.a.createElement(L.a,{component:w})),"/"!==e.pathname&&r.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(48);l.a.render(r.a.createElement(E.a,null,r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.0ec86200.chunk.js.map